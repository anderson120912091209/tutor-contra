# 多步驟表單設計 📋

## 設計理念

參考圖片中的專業履歷編輯器，將複雜的表單分成多個步驟，降低用戶的認知負擔。

## 🎯 核心特性

### 1. **進度追蹤**
```
頂部顯示：
16% 完整度 ─────────────── +54% 完善您的檔案
████░░░░░░░░░░░░░░░░
```

### 2. **步驟指示器**
```
 ✓ ─── 2 ─── 3
已完成  當前  待完成
```

### 3. **清晰的導航**
```
[上一步]          [下一步：教學資訊]
```

## 📐 步驟劃分

### 第 1 步：基本資訊
**目標**：建立基本身份
- 顯示名稱 *（必填）
- 自我介紹 *（必填，建議 200 字以上）

**驗證**：
- ✓ 姓名不為空
- ✓ 自我介紹不為空

### 第 2 步：教學資訊
**目標**：展示教學能力
- 教學科目 *（必填，至少 1 個）
- 教學地點
- 教學年資
- 提供線上教學（checkbox）

**驗證**：
- ✓ 至少選擇 1 個科目

### 第 3 步：學歷背景
**目標**：建立專業信譽
- 大學
- 學位
- 主修科目
- 就讀時間

**驗證**：
- 無強制要求（可選）

## 🎨 UI 佈局

### 頂部欄（Sticky）
```
┌─────────────────────────────────────────────┐
│ ← 回儀表板 | 編輯個人檔案       [查看公開頁] │
├─────────────────────────────────────────────┤
│ 16% 完整度        +54% 完善您的檔案          │
│ ████░░░░░░░░░░░░░░░░                        │
├─────────────────────────────────────────────┤
│         ✓ ───── 2 ───── 3                   │
│         基本資訊                             │
│         姓名與自我介紹                        │
└─────────────────────────────────────────────┘
```

### 分屏佈局
```
┌────────────────┬────────────────┐
│  左側：表單     │  右側：預覽     │
│                │                │
│  [輸入欄位]    │  [即時顯示]    │
│  [輸入欄位]    │  [公開頁面]    │
│  [輸入欄位]    │  [的樣子]      │
│                │                │
│  [上一步] [下一步] │              │
└────────────────┴────────────────┘
```

### 底部導航（Fixed）
```
┌─────────────────────────────────┐
│  [上一步]    [下一步：教學資訊]   │
└─────────────────────────────────┘
```

## 🔄 使用者流程

### 新用戶首次設定
```
1. 進入編輯頁
   → 看到「16% 完整度」
   → 步驟 1 高亮

2. 填寫基本資訊
   → 輸入姓名：陳老師
   → 輸入自我介紹：200 字
   → 右側即時預覽更新

3. 點擊「下一步：教學資訊」
   → 步驟 1 變成 ✓
   → 步驟 2 高亮
   → 進度提升到 40%

4. 填寫教學資訊
   → 選擇科目：數學、物理
   → 輸入地點：台北市
   → 輸入年資：5 年
   → 勾選線上教學

5. 點擊「下一步：學歷背景」
   → 步驟 2 變成 ✓
   → 步驟 3 高亮
   → 進度提升到 60%

6. 填寫學歷背景
   → 新增台灣大學
   → 學士、電機工程
   → 2015-2019

7. 點擊「完成並儲存」
   → 顯示「✓ 已儲存」
   → 進度達到 100%
```

### 編輯現有檔案
```
1. 進入編輯頁
   → 看到「85% 完整度」
   → 預設在步驟 1

2. 點擊步驟 2 的圓點
   → 直接跳到步驟 2
   → 不需要依序點擊

3. 修改科目
   → 新增「英文」
   → 右側即時更新

4. 點擊「完成並儲存」
   → 儲存成功
```

## 💡 進度計算邏輯

```typescript
const completionPercentage = () => {
  let completed = 0;
  let total = 7;

  if (displayName) completed++;           // 14%
  if (bio) completed++;                   // 14%
  if (subjects.length > 0) completed++;   // 14%
  if (location) completed++;              // 14%
  if (yearsExperience) completed++;       // 14%
  if (education.length > 0) completed += 2; // 28%

  return Math.round((completed / total) * 100);
};
```

### 進度對照表
| 完成項目 | 進度 |
|---------|------|
| 姓名 | 14% |
| + 自我介紹 | 28% |
| + 科目 | 42% |
| + 地點 | 56% |
| + 年資 | 70% |
| + 學歷 | 100% |

## 🎯 驗證邏輯

### 步驟 1 → 步驟 2
```typescript
if (displayName.trim() !== "" && bio.trim() !== "") {
  // 可以前進
} else {
  // 按鈕 disabled
  // 或顯示錯誤提示
}
```

### 步驟 2 → 步驟 3
```typescript
if (subjects.length > 0) {
  // 可以前進
} else {
  // 按鈕 disabled
}
```

### 步驟 3 → 儲存
```
無強制要求，可以不填學歷就儲存
```

## 🎨 視覺設計細節

### 步驟指示器狀態

#### 未完成（灰色）
```css
bg-gray-200 text-gray-500
圓圈顯示數字：1, 2, 3
```

#### 當前（藍色 + 放大）
```css
bg-primary text-primary-foreground scale-110 shadow-lg
圓圈顯示數字：2
```

#### 已完成（藍色 + 勾選）
```css
bg-primary/80 text-primary-foreground
圓圈顯示：✓
```

### 連接線狀態
```css
未完成：bg-gray-200
已完成：bg-primary
```

### 進度條
```html
<div class="w-full bg-gray-200 rounded-full h-2">
  <div 
    class="bg-primary h-2 rounded-full transition-all duration-300"
    style="width: 42%"
  />
</div>
```

### 按鈕狀態

#### 「上一步」
```
步驟 1：disabled（不能再往前）
步驟 2-3：enabled
```

#### 「下一步」
```
驗證通過：enabled，顯示「下一步：XXX」
驗證失敗：disabled
```

#### 「完成並儲存」
```
僅在步驟 3 顯示
替代「下一步」按鈕
```

## 📱 響應式設計

### 桌面版（> 1024px）
```
左右分屏：50% | 50%
步驟指示器：橫向排列
```

### 平板版（768px - 1024px）
```
左右分屏：60% | 40%
步驟指示器：橫向排列
```

### 手機版（< 768px）
```
單欄顯示
預覽在下方或隱藏
步驟指示器：保持橫向，縮小
```

## 🚀 技術實現

### 狀態管理
```typescript
const [currentStep, setCurrentStep] = useState(1);

// 步驟切換
const handleNext = () => {
  if (canGoNext() && currentStep < STEPS.length) {
    setCurrentStep(currentStep + 1);
  }
};

const handleBack = () => {
  if (currentStep > 1) {
    setCurrentStep(currentStep - 1);
  }
};
```

### 條件渲染
```typescript
{currentStep === 1 && (
  <BasicInfoForm />
)}

{currentStep === 2 && (
  <TeachingInfoForm />
)}

{currentStep === 3 && (
  <EducationForm />
)}
```

### 底部導航固定
```css
.left-panel {
  position: relative;
  overflow-y: auto;
}

.bottom-nav {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: white;
  border-top: 1px solid;
  padding: 1rem 2rem;
}

.form-content {
  padding-bottom: 8rem; /* 為底部導航留空間 */
}
```

## 🎯 用戶體驗優化

### 1. **視覺反饋**
- ✓ 即時預覽：每次輸入立即反映在右側
- ✓ 進度條動畫：smooth transition
- ✓ 儲存狀態：成功/失敗提示

### 2. **引導提示**
- ✓ 必填欄位標記 *
- ✓ 輸入框 placeholder 範例
- ✓ 說明文字（灰色小字）
- ✓ 進度百分比 + 提示（+54% 完善您的檔案）

### 3. **防呆設計**
- ✓ 未完成驗證時「下一步」disabled
- ✓ 步驟 1 時「上一步」disabled
- ✓ 空白提交時顯示錯誤

### 4. **快速導航**
- ✓ 點擊步驟圓點直接跳轉
- ✓ 不強制按順序填寫
- ✓ 隨時可以儲存

## 📊 與單頁表單對比

| 特性 | 單頁表單 | 多步驟表單 |
|------|---------|-----------|
| 視覺負擔 | 重（看到所有欄位）| 輕（一次一個步驟）|
| 完成率 | 較低 | 較高 |
| 進度感知 | 弱 | 強（進度條 + 步驟）|
| 認知負擔 | 高 | 低 |
| 適合 | 簡單表單（< 5 欄位）| 複雜表單（> 10 欄位）|

## 🔮 未來增強

### Phase 1（已完成）
- ✅ 多步驟導航
- ✅ 進度追蹤
- ✅ 即時預覽
- ✅ 驗證邏輯

### Phase 2（可選）
- [ ] 自動儲存草稿
- [ ] 離開提醒（未儲存）
- [ ] 鍵盤快捷鍵（Enter 下一步）
- [ ] 步驟間動畫效果

### Phase 3（進階）
- [ ] 智能建議（AI 幫你寫自我介紹）
- [ ] 範本選擇
- [ ] 匯入履歷
- [ ] 多語言版本

## 💪 優勢總結

### 使用者角度
1. **更容易完成**：一步步引導，不會迷失
2. **進度可見**：知道自己完成了多少
3. **壓力更小**：一次專注於一個主題

### 開發者角度
1. **程式碼清晰**：每個步驟獨立組件
2. **容易維護**：新增步驟只需加入 STEPS
3. **驗證簡單**：每步有明確的驗證規則

### 產品角度
1. **提高完成率**：減少中途放棄
2. **收集數據**：知道哪一步流失最多
3. **優化空間**：針對性改善問題步驟

---

**現在編輯檔案像填專業履歷一樣直覺！** ✨

分步驟、有進度、隨時預覽，讓家教輕鬆建立完整的個人檔案！

